"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_ba-infographic_node_modules_arcgis_business-analyst-components_dist_stenci-b4f715"],{272:(e,t,i)=>{i.r(t),i.d(t,{arcgis_infographic_modal:()=>n});var s=i(1488),o=i(4936);const n=class{constructor(e){(0,s.r)(this,e),this._idPrefix="arcgis-infographic-modal-",this.isOpen=!1,this.baseConfig=new o.a("modal",this,this.onUpdateUI),this._instanceId=o.E.generateId(this._idPrefix).id}onHierarchyChanged(){this.stSelectedHierarchy=this.selectedHierarchy,this.baseConfig&&this.baseConfig.updateConfig({selectedHierarchy:this.stSelectedHierarchy})}onConfigChange(e,t){if(o.a.LogConfig("MODAL config change",e,t),e&&"string"==typeof e&&o.A.hasText(e)){const t=JSON.parse(e);o.a.LogConfig("BAC Modal config changing... ",t,t.username,t.token),this.baseConfig.updateConfig(t)}}onInvalidHierarchy(){this.el.style.setProperty("background-color","#f4f4f4"),this.el.style.setProperty("position","absolute"),this.el.style.setProperty("top","0"),this.el.style.setProperty("left","0"),this.el.style.setProperty("width","100%"),this.el.style.setProperty("height","100%")}onUpdateUI(){}setLocaleStrings(){}async componentWillLoad(){if(o.a.LogConfig("BAC Modal willLoad",this.config),this.config){let e="object"==typeof this.config?JSON.stringify(this.config):this.config;this.onConfigChange(e,""),this.config.selectedHierarchy&&!this.selectedHierarchy&&(this.selectedHierarchy=this.config.selectedHierarchy)}this.selectedHierarchy&&this.onHierarchyChanged()}componentDidLoad(){this.baseConfig&&this.baseConfig.onComponentHasRendered()}componentDidUpdate(){this.baseConfig&&this.baseConfig.onComponentHasRendered()}render(){if(!this.searchResultObj)return;const{env:e,username:t,token:i,geoenrichmentUrl:n,sourceCountry:r,langCode:a}=this.baseConfig.config,{name:h,attributes:c,geometry:g,geography:l,symbol:d}=this.searchResultObj;return o.a.Log("BAC Modal render [config, options, selectedHierarchy]",this.baseConfig.config,this.infographicOptions,this.selectedHierarchy),(0,s.h)("arcgis-infographic",{id:this.modalId,env:e,username:t,token:i,geoenrichmentUrl:n,portalUrl:this.portalUrl,portalOnlineGEProxy:this.portalOnlineGEProxy,locationName:h,locationAttributes:JSON.stringify(c),sourceCountry:r,selectedHierarchy:this.selectedHierarchy,options:JSON.stringify(this.infographicOptions),langCode:a,reportId:this.selectedReport,reportLocation:`${this.searchResultObj.lon},${this.searchResultObj.lat}`,reportgeometry:JSON.stringify(g),reportgeography:JSON.stringify(l),onInvalidHierarchy:()=>this.onInvalidHierarchy(),reportsymbol:JSON.stringify(d)})}get el(){return(0,s.g)(this)}static get watchers(){return{selectedHierarchy:["onHierarchyChanged"],config:["onConfigChange"]}}};n.style=":host{display:block}.arcgisInfographicModalDeprecated{background-color:#f4f4f4;position:absolute;top:0;left:0;width:100%;height:100%}"}}]);